(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["PnLHistory"],{"5c2f":function(t,e,i){"use strict";i("78b1")},"78b1":function(t,e,i){},"80e7":function(t,e,i){"use strict";i("a2db")},a2db:function(t,e,i){},ae5f:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pnlhistory flex-column"},[i("van-nav-bar",{staticClass:"van-app",attrs:{title:t.$t("PLHistory"),"left-arrow":""},on:{"click-left":t.goBack}}),i("div",{staticClass:"content flex-column"},[i("van-tabs",{staticClass:"fixed",attrs:{swipeable:""},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[i("van-tab",{attrs:{title:t.$t("RealTrading")}},[i("van-list",{attrs:{finished:t.finished,"finished-text":t.$t("NoMore")},on:{load:function(e){t.queryMatch(t.originList.length?t.originList[t.originList.length-1].matchTime:1e3*(new Date).getTime())}},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.tradList,(function(e,n){return i("van-cell",{key:n},[i("div",{staticClass:"cell-item"},[i("div",{staticClass:"title"},[i("span",{staticClass:"symbol"},[t._v(t._s(t.getSymbol(e.contractId)))]),i("span",{staticClass:"side",class:[t.upDownColor?e.side>0?"bgRed":e.side<0?"bgGreen":"":e.side>0?"bgGreen":e.side<0?"bgRed":""]},[t._v(t._s(e.side>0?t.$t("CloseLong"):t.$t("CloseShort")))]),3===e.bonusAccountType?i("div",{staticClass:"tiyanjin"},[t._v(t._s(t.$t("Trial.Trialfund")))]):t._e(),2===e.followType?i("div",{staticClass:"gendan"},[t._v(t._s(t.$t("Trial.Copy")))]):t._e()]),i("div",{staticClass:"pnl-qty flex-row"},[i("span",{staticClass:"pnl",class:[t.upDownColor?Number(t.getPnL(e))>0?"colorRed":Number(t.getPnL(e))<0?"colorGreen":"":Number(t.getPnL(e))>0?"colorGreen":Number(t.getPnL(e))<0?"colorRed":""]},[t._v(t._s(t.getPnL(e)>0?"+":"")+t._s(t._f("toFix6")(t.getPnL(e))))]),i("span",{staticClass:"qty"},[t._v("\n                  "+t._s(t.$t("ContNumer"))+":"+t._s(e.matchQty)+"\n                ")])]),i("div",{staticClass:"time-price flex-row"},[i("span",{staticClass:"time flex-row"},[i("van-icon",{staticClass:"time-icon",attrs:{name:"underway-o"}}),t._v(t._s(t.getTime(e.matchTime)))],1),i("span",{staticClass:"price"},[t._v(t._s(t.$t("SelectOrderPrice"))+": "+t._s(t.getFloatByPriceTick(e.matchPrice,e.contractId)))])])])])})),1)],1),i("van-tab",{attrs:{title:t.$t("MockTrading")}},[i("van-list",{attrs:{finished:t.finished,offset:300,"finished-text":t.$t("NoMore")},on:{load:function(e){t.queryMatch(t.originList.length?t.originList[t.originList.length-1].matchTime:1e3*(new Date).getTime())}},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.mockTradList,(function(e,n){return i("van-cell",{key:n},[i("div",{staticClass:"cell-item"},[i("div",{staticClass:"title"},[i("span",{staticClass:"symbol"},[t._v(t._s(t.getSymbol(e.contractId)))]),i("span",{staticClass:"side",class:[t.upDownColor?e.side>0?"bgRed":e.side<0?"bgGreen":"":e.side>0?"bgGreen":e.side<0?"bgRed":""]},[t._v(t._s(e.side>0?t.$t("CloseLong"):t.$t("CloseShort")))]),3===e.bonusAccountType?i("div",{staticClass:"tiyanjin"},[t._v(t._s(t.$t("Trial.Trialfund")))]):t._e(),2===e.followType?i("div",{staticClass:"gendan"},[t._v(t._s(t.$t("Trial.Copy")))]):t._e()]),i("div",{staticClass:"pnl-qty flex-row"},[i("span",{staticClass:"pnl",class:[t.upDownColor?Number(t.getPnL(e))>0?"colorRed":Number(t.getPnL(e))<0?"colorGreen":"":Number(t.getPnL(e))>0?"colorGreen":Number(t.getPnL(e))<0?"colorRed":""]},[t._v(t._s(t.getPnL(e)>0?"+":"")+t._s(t._f("toFix6")(t.getPnL(e))))]),i("span",{staticClass:"qty"},[t._v("\n                  "+t._s(t.$t("ContNumer"))+":"+t._s(e.matchQty)+"\n                ")])]),i("div",{staticClass:"time-price flex-row"},[i("span",{staticClass:"time flex-row"},[i("van-icon",{staticClass:"time-icon",attrs:{name:"underway-o"}}),t._v(t._s(t.getTime(e.matchTime)))],1),i("span",{staticClass:"price"},[t._v(t._s(t.$t("SelectOrderPrice"))+": "+t._s(t.getFloatByPriceTick(e.matchPrice,e.contractId)))])])])])})),1)],1)],1)],1)],1)},a=[],s=(i("8e6e"),i("ac6a"),i("456d"),i("6b54"),i("2909")),o=i("ade3"),r=(i("c5f6"),i("68f1")),c=i("79ec"),l=i("2f62"),d=i("ff51");function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function m(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var f={components:{},data:function(){return{upDownColor:Number(localStorage.getItem("upDownColorIndex"))||0,popupShow:!1,active:999999==this.$route.query.contractId?1:0,contractIndex:0,timeIndex:0,sideIndex:0,timeList:[{label:"All"},{label:"OneDay"},{label:"AWeek"},{label:"AMonth"}],sideList:[{label:"All"},{label:"Buy/Long"},{label:"Sell/Short"}],originList:[],loading:!1,finished:!1,startTime:void 0,endTime:void 0,side:void 0,mockContractId:999999}},computed:m(m(m({},Object(l["c"])("base",["getFloatByPriceTick"])),Object(l["e"])("base",["userId","contractConfig"])),{},{tradList:function(){var t=this,e=[];return e=this.side?this.originList.filter((function(e){return e.contractId!==t.mockContractId&&e.side===t.side})):this.originList.filter((function(e){return e.contractId!==t.mockContractId})),e=e.filter((function(e){return 0!==t.getPnL(e)})),e},mockTradList:function(){var t=this,e=[];return e=this.side?this.originList.filter((function(e){return e.contractId===t.mockContractId&&e.side===t.side})):this.originList.filter((function(e){return e.contractId===t.mockContractId})),e=e.filter((function(e){return 0!==t.getPnL(e)})),e}}),mounted:function(){setTimeout((function(){window.scrollTo(0,10)}),100)},methods:{queryMatch:function(t,e){var i=this,n={startTime:this.startTime,endTime:t||1e3*(new Date).getTime(),pageSize:30,side:1};Object(r["v"])({params:n}).then((function(t){0===t.data.code&&(i.originList=e?t.data.data:[].concat(Object(s["a"])(i.originList),Object(s["a"])(t.data.data)),i.loading=!1,t.data.data.length<30?i.finished=!0:i.finished=!1)}))},getPnL:function(t){var e=this.userId.toString(),i=t.bidUserId.toString();return 3!==t.bonusAccountType&&2!==t.followType||(i=(Number(i)%1e8).toString()),i===e?t.bidPnl?Number(t.bidPnl):0:t.askPnl?Number(t.askPnl):0},getSymbol:function(t){if(this.contractConfig[t])return this.contractConfig[t].symbol},getTime:function(t){var e=t/1e3,i=new Date((new Date).toLocaleDateString()).getTime(),n=e-i;return n>0?"".concat(this.$t("Today")).concat(Object(c["dateFormatHHMM"])(e)):n<0&&n+864e5>0?"".concat(this.$t("Yesterday")).concat(Object(c["dateFormatHHMM"])(e)):Object(c["dateFormatMDHM"])(e)},timeFilter:function(t){switch(this.timeIndex=t,t){case 0:this.startTime=void 0,this.endTime=1e3*(new Date).getTime();break;case 1:this.endTime=1e3*(new Date).getTime(),this.startTime=1e3*(new Date).getTime()-864e8;break;case 2:this.endTime=1e3*(new Date).getTime(),this.startTime=1e3*(new Date).getTime()-6048e8;break;case 3:this.endTime=1e3*(new Date).getTime(),this.startTime=1e3*(new Date).getTime()-2592e9;break;default:break}},goBack:function(){Object(d["e"])()}}},g=f,b=(i("5c2f"),i("80e7"),i("2877")),p=Object(b["a"])(g,n,a,!1,null,"1bff7064",null);e["default"]=p.exports}}]);