(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21d8d549"],{"0240":function(t,s,a){"use strict";a("aee3")},"19b2":function(t,s,a){"use strict";a("9c2c")},"25b7":function(t,s,a){},"36cf":function(t,s,a){"use strict";a("25b7")},"76b3":function(t,s,a){"use strict";a("dd20")},"7ecf":function(t,s,a){"use strict";a("acc7")},"9b88":function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGBAMAAAAI3hL1AAAAJFBMVEUAAAAAoK8IrrAIr7AJrrEIrbAIrrAHrrAIra8JrrAHr7IJrrCCbHcoAAAAC3RSTlMACLrYsKibiYJ3bdgMzwgAAAArSURBVAjXYzBnYGAoZshuYODYxsC6k2F2AAOj96otAgwMQrsVgVKMSgIMAIboBtivZ6LcAAAAAElFTkSuQmCC"},"9c2c":function(t,s,a){},acc7:function(t,s,a){},aee3:function(t,s,a){},b77d:function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{},[e("van-nav-bar",{staticClass:"van-app",attrs:{title:t.$t("MyCountCard"),"left-arrow":""},on:{"click-left":t.goBack}},[e("van-icon",{attrs:{slot:"right"},slot:"right"}),e("div",{attrs:{slot:"right"},slot:"right"},[e("router-link",{attrs:{to:"/assets/discountExplain"}},[e("div",{staticClass:"nav-right"})])],1)],1),e("div",{staticClass:"discount-coupon-container"},[e("van-tabs",{on:{click:t.handleClick},model:{value:t.activeName,callback:function(s){t.activeName=s},expression:"activeName"}},[e("van-tab",{attrs:{title:t.$t("Unused")}},[e("DiscountCouponItem",{attrs:{list:t.validList}})],1),e("van-tab",{attrs:{title:t.$t("used")}},[e("div",[e("div",{staticClass:"list_wrap"},[e("div",{staticClass:"list_head"},[e("span",{staticClass:"time"},[t._v(t._s(t.$t("discountCouponSymbol")))]),e("span",{staticClass:"coin"},[t._v(t._s(t.$t("Quantity")))]),e("span",{staticClass:"price"},[t._v(t._s(t.$t("discountTime")))])]),t._l(t.list,(function(s,a){return e("div",{key:a,staticClass:"list_item"},[e("span",{staticClass:"time"},[t._v(t._s("SUSD"==s.currencyName?"USDT":s.currencyName))]),e("span",{staticClass:"coin"},[t._v(t._s(""+s.suspense.toFixed(2)))]),e("span",{staticClass:"price"},[t._v(t._s(t._f("dateFormat")(s.useTime)))])])})),t.list.length>0&&!1===t.params.isLastPage?e("div",{staticClass:"assets-page-warp"},[e("div",{staticClass:"see-more",on:{click:function(s){return t.showMore()}}},[t._v("\n                查看更多"),e("img",{staticClass:"see-img",attrs:{src:a("9b88"),alt:"",srcset:""}})])]):t._e()],2)])]),e("van-tab",{attrs:{title:t.$t("expired")}},[e("DiscountCouponItem",{attrs:{isvalid:!1,list:t.invalidList}})],1)],1)],1)],1)},i=[],n=(a("8e6e"),a("ac6a"),a("456d"),a("ade3")),o=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{},[a("div",{},[a("div",{staticClass:"discount-coupon-list",class:{valid:t.isvalid,invalid:!t.isvalid}},t._l(t.list,(function(s,e){return a("div",{key:e,staticClass:"discount-coupon-item ",class:t.getClass(s)},[a("span",{staticClass:"dot t"}),a("span",{staticClass:"dot b"}),a("aside",{staticClass:"left"},[a("span",{staticClass:"title"},[t._v(t._s("SUSD"==s.currencyName?"USDT":s.currencyName)+t._s(t.$t("discountCoupon")))]),a("span",{staticClass:"value"},[t._v(t._s(s.balance.toFixed(2)))]),t.isvalid?a("span",[t._v(t._s(t.$t("periodOfValidity"))+":")]):t._e(),t.isvalid?t._e():a("span",[t._v(t._s(t.$t("expiryDate"))+":")]),a("span",[t.isvalid?[t._v(" "+t._s(t._f("dateFormatYMDD")(s.effectiveStartTime))+" - ")]:t._e(),t._v(" "+t._s(t._f("dateFormatYMDD")(s.effectiveEndTime))+"\n            ")],2)]),a("aside",{staticClass:"right"},[a("span",{staticClass:"title"},[t._v(t._s(t.$t("applyContract")))]),8==s.currencyId?a("span",[t._v("BTC/USDT")]):t._e(),8!=s.currencyId?t._l(s.availableCurrencys,(function(s,e){return a("span",{key:e},[t._v(t._s(s))])})):t._e()],2)])})),0)])])},c=[],r={name:"discountCouponItem",props:{isvalid:{type:Boolean,default:!0},list:{type:Array,default:function(){return[]}}},methods:{getClass:function(t){return"BTC"===t.currencyName||"ETH"===t.currencyName||"CUSD"===t.currencyName?t.currencyName:"other"}}},u=r,l=(a("36cf"),a("2877")),d=Object(l["a"])(u,o,c,!1,null,"81dc9e30",null),p=d.exports,v=a("ff51"),f=a("2f62");function m(t,s){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);s&&(e=e.filter((function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),a.push.apply(a,e)}return a}function C(t){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?m(Object(a),!0).forEach((function(s){Object(n["a"])(t,s,a[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))}))}return t}var h={name:"discountCoupon",components:{DiscountCouponItem:p},data:function(){return{activeName:0,showBtm:!0,list:[],total:0,params:{pageNum:1,pageSize:10,isLastPage:!0},validList:[],invalidList:[],options:function(){return{pullDownRefresh:!1,pullUpLoad:!1,scrollbar:!0}}}},mounted:function(){this.getDiscountCouponValid(),this.getDiscountCouponInvalid(),this.getDiscountCouponUsed()},computed:{getMore:function(){return this.list.length%10===0&&this.showBtm}},created:function(){},methods:C(C(C({},Object(f["b"])("assets",["queryCouponList"])),Object(f["b"])("futures",["queryFuturesCommonInfo","queryIndicatorList","setContractId","searchUserInfo","querySimulationUserStatus"])),{},{handleFlowChange:function(t){this.params.pageNum=t},getDiscountCouponValid:function(){var t=this;this.queryCouponList({params:{state:1,size:11}}).then((function(s){200===s.data.code&&(t.validList=s.data.data)}))},getDiscountCouponInvalid:function(){var t=this;this.queryCouponList({params:{state:2,size:11}}).then((function(s){if(200===s.data.code){var a=s.data.data;a&&a.length>0&&(t.list=a.slice(0,10),t.params.nextId=a[a.length-1].id,t.params.isLastPage=a.length<11)}}))},getDiscountCouponUsed:function(){var t=this;this.queryCouponList({params:{state:9,size:11}}).then((function(s){200===s.data.code&&(t.invalidList=s.data.data)}))},getCouponList:function(){var t=C(C({},this.params),{},{state:0});this.queryCouponList({params:t}).then((function(t){t.code}))},goBack:function(){Object(v["e"])()},showMore:function(){var t=this,s={start:this.params.nextId,size:this.params.pageSize,state:2,direction:"next"};this.queryCouponList({params:s}).then((function(s){if(200===s.data.code){var a=s.data.data;a.length>0?(t.list=t.list.concat(a.slice(0,10)),t.params.nextId=a[a.length-1].id,t.params.isLastPage=a.length<11):t.showBtm=!1}}))},handleClick:function(t,s){0===t?this.getDiscountCouponValid():1===t?this.getDiscountCouponInvalid():2===t&&this.getDiscountCouponUsed()}})},g=h,A=(a("76b3"),a("19b2"),a("7ecf"),a("0240"),Object(l["a"])(g,e,i,!1,null,"2d9c93ea",null));s["default"]=A.exports},dd20:function(t,s,a){}}]);